/*!
 * reveal-console.js 0.0.1
 * https://github.com/kaitoy/reveal-console.js
 * MIT licensed
 * 
 * Copyright (C) 2016 Kaito Yamada
 */
!function(e){function n(t){if(o[t])return o[t].exports;var i=o[t]={exports:{},id:t,loaded:!1};return e[t].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var o={};return n.m=e,n.c=o,n.p="",n(0)}([function(e,n,o){"use strict";var t=o(1);window.parent===window.self?(document.addEventListener("keydown",t.onKeyDownInMain),document.addEventListener("slidechanged",t.onSlidechanged),document.addEventListener("fragmentshown",t.onFragmentshown),document.addEventListener("fragmenthidden",t.onFragmenthidden),window.addEventListener("beforeunload",t.onBeforeunload)):document.addEventListener("ready",function(){window.parent.postMessage("sub-view-ready","*")})},function(e,n,o){"use strict";var t=o(2),i=function(){if(t.isOpen){var e=window.Reveal.getSlideNotes();e||(e='<div class="noNotes">No notes for this slide</div>'),t.notes.innerHTML=e,t.notes.scrollTop=0;var n=window.Reveal.getIndices(),o=!1;t.slideView.contentWindow.postMessage(JSON.stringify({method:"slide",args:[n.h,n.v]}),"*"),window.Reveal.availableFragments().next?t.preView.contentWindow.postMessage(JSON.stringify({method:"slide",args:[n.h,n.v,0]}),"*"):window.Reveal.isLastSlide()?o=!0:t.preView.contentWindow.postMessage(JSON.stringify({method:"slide",args:[n.h+1,n.v]}),"*"),o?t.hidePreView():t.showPreView()}};e.exports={onKeyDownInMain:function(e){return!(!(e.ctrlKey||e.altKey||e.metaKey)&&e.shiftKey&&80===e.keyCode)||(t.open(i),e.preventDefault(),e.stopPropagation(),!1)},onSlidechanged:i,onFragmentshown:function(){t.isOpen&&(t.slideView.contentWindow.postMessage(JSON.stringify({method:"next",args:[]}),"*"),t.preView.contentWindow.postMessage(JSON.stringify({method:"next",args:[]}),"*"),window.Reveal.isLastSlide()&&!window.Reveal.availableFragments().next&&t.hidePreView())},onFragmenthidden:function(){t.isOpen&&(t.slideView.contentWindow.postMessage(JSON.stringify({method:"prev",args:[]}),"*"),t.preView.contentWindow.postMessage(JSON.stringify({method:"prev",args:[]}),"*"),t.showPreView())},onBeforeunload:function(){t.close()}}},function(e,n,o){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,o,t){return o&&e(n.prototype,o),t&&e(n,t),n}}(),s=o(3),d=o(4),r=function(){function e(n){t(this,e),this.consoleHtml=n,this.consoleWindow=null,this.slideView=null,this.preView=null,this.notes=null,this.preViewOverlay=null,this.isOpen=!1}return i(e,[{key:"open",value:function(e){var n=this;window.parent===window.self&&(this.isOpen?this.consoleWindow.focus():!function(){n.consoleWindow=window.open(),n.consoleWindow.document.open(),n.consoleWindow.document.write(n.consoleHtml),n.consoleWindow.document.title="Speaker Console ("+document.title+")",n.consoleWindow.document.close(),n.slideView=n.consoleWindow.document.getElementById("slideView"),n.preView=n.consoleWindow.document.getElementById("preView"),n.notes=n.consoleWindow.document.getElementById("notes"),n.preViewOverlay=n.consoleWindow.document.getElementById("preView-overlay");var o=0;n.consoleWindow.addEventListener("message",function(n){"sub-view-ready"===n.data&&(o++,2===o&&e())},!1);var t=0;n.preView.contentWindow.addEventListener("load",function(){t++,2===t&&e()}),n.slideView.contentWindow.addEventListener("load",function(){t++,2===t&&e()});var i=n.consoleWindow.document.getElementById("prev");i.addEventListener("click",function(e){return window.Reveal.prev(),e.preventDefault(),e.stopPropagation(),!1});var s=n.consoleWindow.document.getElementById("next");s.addEventListener("click",function(e){return window.Reveal.next(),e.preventDefault(),e.stopPropagation(),!1}),n.consoleWindow.document.addEventListener("keydown",function(e){if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey))switch(e.keyCode){case 37:window.Reveal.prev();break;case 39:window.Reveal.next()}}),n.consoleWindow.addEventListener("beforeunload",function(){n.consoleWindow=null,n.isOpen=!1}),n.isOpen=!0}())}},{key:"showPreView",value:function(){this.preViewOverlay.classList.remove("pv-hidden"),this.preViewOverlay.classList.add("pv-shown")}},{key:"hidePreView",value:function(){this.preViewOverlay.classList.remove("pv-shown"),this.preViewOverlay.classList.add("pv-hidden")}},{key:"close",value:function(){this.isOpen&&(this.consoleWindow.close(),this.consoleWindow=null,this.isOpen=!1)}}]),e}();e.exports=new r(s.replace("</style>",d+"</style>"))},function(e,n){e.exports="<!DOCTYPE html> <html> <head> <style></style> </head> <body> <div id=console> <div id=views> <iframe id=slideView scrolling=no src="+document.URL+"></iframe> <iframe id=preView scrolling=no src="+document.URL+"></iframe> <div id=slideView-overlay></div> <div id=preView-overlay class=pv-shown></div> <div id=blocker></div> </div> <div id=notes></div> </div> <div id=controls> <div id=prev>Prev</div> <div id=next>Next</div> </div> </body> </html>"},function(e,n,o){n=e.exports=o(5)(),n.push([e.id,"body{background-color:#fff;padding:0;margin:0;font-family:Helvetica,Arial,Sans-Serif;font-size:2vw}#console{position:absolute;top:.5vw;left:.5vw;right:.5vw;bottom:3vw;margin:0}#notes,#views{position:absolute;top:0;bottom:0}#views{left:0;right:50vw;overflow:hidden}#blocker{position:absolute;right:0;bottom:0}#notes{left:50vw;right:0;overflow-x:hidden;overflow-y:auto;padding:.3ex;background-color:#fff;border:1px solid #787878}#notes .noNotes{color:#c8c8c8}#notes p{margin-top:0}iframe{position:absolute;margin:0;padding:0;left:0;border:1px solid #787878}#slideView{top:0;width:49vw;height:49vh}#preView{opacity:.7;top:50vh;width:30vw;height:30vh}#controls{display:flex;align-items:center;justify-content:center;margin:0;position:absolute;bottom:.25vw;left:.5vw;right:.5vw;height:2.5vw;background-color:#fff;background-color:hsla(0,0%,100%,.6)}#next,#prev{display:block;border:1px solid #464646;border-radius:.5vw;font-size:1.5vw;padding:.25vw;text-decoration:none;background-color:#dcdcdc;color:#000}#next:hover,#prev:hover{background-color:#f5f5f5}#slideView-overlay{z-index:1;position:absolute;top:0;left:0;width:49vw;height:49vh;background-color:transparent}#preView-overlay{z-index:1;position:absolute;top:50vh;left:0;width:30vw;height:30vh}.pv-shown{background-color:transparent}.pv-hidden{background-color:#000}",""])},function(e,n){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],n=0;n<this.length;n++){var o=this[n];o[2]?e.push("@media "+o[2]+"{"+o[1]+"}"):e.push(o[1])}return e.join("")},e.i=function(n,o){"string"==typeof n&&(n=[[null,n,""]]);for(var t={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(t[s]=!0)}for(i=0;i<n.length;i++){var d=n[i];"number"==typeof d[0]&&t[d[0]]||(o&&!d[2]?d[2]=o:o&&(d[2]="("+d[2]+") and ("+o+")"),e.push(d))}},e}}]);